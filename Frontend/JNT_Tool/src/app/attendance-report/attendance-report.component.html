<app-header>
</app-header>
<br><br><br>
<!-- <section class="main">
 
    <div class="main-top">
 
        <hr>
 
        <img src="assets/Attendence.jpg" alt="Attendance Image">
 
    </div>
</section> -->
 
<div class="selectdrop">
 
    <section>
        <h1 style="color: linear-gradient(to bottom right, hsl(218, 41%, 15%), hsl(218, 41%, 35%));">Attendence Report</h1>
        <hr>
 
        <span *ngIf="showDropdown" class="button-dropdowns">
         
 
        <form [formGroup]="attendanceForm">
            <span>
            <span>
              <mat-form-field>
                <mat-label>Select Month</mat-label>
                <mat-select formControlName="selectedMonth" (selectionChange)="getbyMonthName($event.value)">
                  <mat-option *ngFor="let month of months" [value]="month">{{ month }}</mat-option>
                </mat-select>
              </mat-form-field>
            </span>
        </span>
        &nbsp;&nbsp;
        <span>
            <mat-form-field>
              <mat-label>Select Employee</mat-label>
              <mat-select formControlName="selectedEmployee" (selectionChange)="generateEReport()" [(value)]="selectedEmployee">
                <mat-option *ngFor="let employee of employeeNames" [value]="employee">{{ employee }}</mat-option>
              </mat-select>
            </mat-form-field>
         
        </span>
        </form>
        </span>
    </section>
 
    <!-- Your attendance report content goes here -->
    <div *ngIf="showTable" class="table-container" class="scrollable-container">
        <table class="table">
            <thead style="padding: 50px;">
                <tr>
                  <!-- <th style="color:blue;">AttendenceId</th> -->
                    <th style="background:linear-gradient(to bottom right, hsl(218, 41%, 15%), hsl(218, 41%, 35%)); color: white;">First Name</th>
                    <th style="background:linear-gradient(to bottom right, hsl(218, 41%, 15%), hsl(218, 41%, 35%)); color: white;">Last Name</th>
                    <th style="background:linear-gradient(to bottom right, hsl(218, 41%, 15%), hsl(218, 41%, 35%)); color: white;">Department</th>
                    <th style="background:linear-gradient(to bottom right, hsl(218, 41%, 15%), hsl(218, 41%, 35%)); color: white;">Login Time</th>
                    <th style="background:linear-gradient(to bottom right, hsl(218, 41%, 15%), hsl(218, 41%, 35%)); color: white;">Logout Time</th>
                    <th style="background:linear-gradient(to bottom right, hsl(218, 41%, 15%), hsl(218, 41%, 35%)); color: white;">Hours</th>
                    <!-- <th style="color:blue;">Months</th> -->
                </tr>
            </thead>
            <tbody>
              <tr *ngFor="let record of gridData">
                <td>{{ record.management.firstName }}</td>
                <td>{{ record.management.lastName }}</td>
                <td>{{ record.management.department }}</td>
                <td>{{ formatDate(record.attendance?.loginTime) }}</td>
                <td>{{ formatDate(record.attendance?.logoutTime) }}</td>
                <td>{{ record.attendance?.hours }}</td>
              </tr>
            </tbody>
                
        </table>
 
    </div>
</div>